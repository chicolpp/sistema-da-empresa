<!-- Scaffolding generated by Casein v5.1.0.0 -->

<div class="row">
	<div class="col-lg-12">
		<h2>Pessoa Jurídica</h2>
	</div>
</div>

<div class="row">
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-cnpj">CNPJ *</span>
			<%= f.text_field :cnpj, class: "form-control #{f.object.errors[:cnpj].first ? 'input-error' : ''} valida-cnpj", placeholder: "CNPJ", data: {inputmask: "'mask': '99.999.999/9999-99', 'greedy' : false, 'clearIncomplete': true"}, "aria-describedby" => "addon-cnpj" %>
		</div>
	</div>
	<div class="col-lg-3">
		<div class="input-group">
			<span class="input-group-addon" id="addon-inscricao-estadual">I.E.</span>
			<%= f.text_field :ie, class: "form-control #{f.object.errors[:ie].first ? 'input-error' : ''}", placeholder: "Inscrição Estadual", "aria-describedby" => "addon-inscricao-estadual" %>
		</div>
	</div>
</div>

<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".valida-cnpj").on("keyup", function() {
		  $.ajax({
	      type: "GET",
	      url: "<%= casein_pessoas_path %>",
				dataType: 'script',
	      data: {
	      	cnpj: $(this).val(),
					id: "<%= @pessoa.id %>"
	      }
	    })
		});

		$(":input").inputmask();
	});
</script>
