<!-- Scaffolding generated by Casein v5.1.0.0 -->
<% if params[:estado_id].blank? %>
	<% params[:estado_id] = @pessoa.pessoa_endereco.cidade.try(:estado_id)%>
<% end %>

<div class="row">
	<div class="col-lg-3">
		<div class="input-group">
			<span class="input-group-addon" id="addon-tipo-endereco">Tipo</span>
			<%= f.select :tipo_endereco, [['Residencial', 0], ['Comercial', 1], ['Caixa Postal', 2]], {prompt: "Selecione"}, {class: "form-control #{f.object.errors[:tipo_endereco].first ? 'input-error' : ''}", "aria-describedby" => "addon-tipo-endereco"} %>
		</div>
	</div>
	<div class="col-lg-2">
		<div class="input-group">
			<span class="input-group-addon" id="addon-cep">CEP *</span>
			<%= f.text_field :cep, class: "form-control #{f.object.errors[:cep].first ? 'input-error' : ''}", placeholder: "CEP", "aria-describedby" => "addon-cep", data: {inputmask: "'mask': '99999-999', 'greedy' : false, 'clearIncomplete': true"} %>
		</div>
	</div>
	<div class="col-lg-5">
		<div class="input-group">
			<span class="input-group-addon" id="addon-endereco">Endereço *</span>
			<%= f.text_field :endereco, class: "form-control #{f.object.errors[:endereco].first ? 'input-error' : ''}", placeholder: "rua, avenida...", "aria-describedby" => "addon-endereco" %>
		</div>
	</div>
	<div class="col-lg-2">
		<div class="input-group">
			<span class="input-group-addon" id="addon-numero">Nº *</span>
			<%= f.text_field :numero, class: "form-control #{f.object.errors[:numero].first ? 'input-error' : ''}", placeholder: "Número", "aria-describedby" => "addon-numero" %>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-complemento">Complemento</span>
			<%= f.text_field :complemento, class: "form-control #{f.object.errors[:complemento].first ? 'input-error' : ''}", placeholder: "Complemento", "aria-describedby" => "addon-complemento" %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-bairro">Bairro *</span>
			<%= f.text_field :bairro, class: "form-control #{f.object.errors[:bairro].first ? 'input-error' : ''}", placeholder: "Bairro", "aria-describedby" => "addon-bairro" %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
	  	<span class="input-group-addon" id="addon-cidade-id">Cidade *</span>
			<%= f.hidden_field :cidade_id, data: {s2ajax: true, url: "#{get_cidades_url}", name: f.object.cidade ? f.object.cidade.get_nome_completo : ''}, class: "form-control #{f.object.errors[:cidade_id].first ? 'input-error' : ''} input-sm nao_aplicar_select_2", "aria-describedby" => "addon-cidade-id" %>
		</div>
	</div>
</div>

<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(":input").inputmask();
	});

	$('#estado_id').change(function(){
		$.ajax({
			url: '<%= carregar_cidades_path %>',
			data: {
				estado_id: $(this).val(),
				target: $(this).data("target")
			}
		});
	});
</script>
