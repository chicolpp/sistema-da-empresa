<!-- Scaffolding generated by Casein v5.1.0.0 -->

<div class="row">
	<div class="col-lg-12">
		<h2>Pessoa FÃ­sica</h2>
	</div>
</div>

<div class="row">
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-cpf">CPF *</span>
			<%= f.text_field :cpf, class: "form-control #{f.object.errors[:cpf].first ? 'input-error' : ''} valida-cpf", data: {inputmask: "'mask': '999.999.999-99', 'greedy' : false, 'clearIncomplete': true", "aria-describedby" => "addon-cpf"} %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-rg">RG</span>
			<%= f.text_field :rg, class: "form-control #{f.object.errors[:rg].first ? 'input-error' : ''}", "aria-describedby" => "addon-rg" %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-data-nascimento">Data de Nascimento</span>
			<% f.object.data_nascimento = f.object.data_nascimento.strftime('%d/%m/%Y') unless f.object.data_nascimento.blank? %>
			<%= f.text_field :data_nascimento, class: "form-control #{f.object.errors[:data_nascimento].first ? 'input-error' : ''}", data: {masker: true, type: :d}, "aria-describedby" => "addon-data-nascimento" %>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-telefone-auxiliar-1">Telefone Auxiliar 1</span>
			<%= f.text_field :telefone_auxiliar_1, class: "form-control #{f.object.errors[:telefone_auxiliar_1].first ? 'input-error' : ''} masc-telefone", "aria-describedby" => "addon-telefone-auxiliar-1" %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-telefone-auxiliar-2">Telefone Auxiliar 2</span>
			<%= f.text_field :telefone_auxiliar_2, class: "form-control #{f.object.errors[:telefone_auxiliar_2].first ? 'input-error' : ''} masc-telefone", "aria-describedby" => "addon-telefone-auxiliar-2" %>
		</div>
	</div>
	<div class="col-lg-4">
		<div class="input-group">
			<span class="input-group-addon" id="addon-telefone-auxiliar-3">Telefone Auxiliar 3</span>
			<%= f.text_field :telefone_auxiliar_3, class: "form-control #{f.object.errors[:telefone_auxiliar_3].first ? 'input-error' : ''} masc-telefone", "aria-describedby" => "addon-telefone-auxiliar-3" %>
		</div>
	</div>
</div>

<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".valida-cpf").on("keyup", function() {
		  $.ajax({
	      type: "GET",
	      url: "<%= casein_pessoas_path %>",
				dataType: 'script',
	      data: {
	      	cpf: $(this).val(),
					id: "<%= @pessoa.id %>"
	      }
	    })
		});

		$(":input").inputmask();
	});
</script>
